import{r as v,Z as E,j as p,b as ne,V as ie}from"./index-CJpT4Mpi.js";import{u as oe}from"./Translate-Bz6qGM8U.js";import{I as le,c as H,_ as se}from"./customToast-DW0GGLWY.js";import{u as de,C as ue}from"./index.esm-CfSZGkEr.js";import{H as ce,a as fe,P as me,B as pe,C as he,I as ye,S as K,b as ge,T as R,r as Ce}from"./index-DBg4uXt4.js";import{u as be}from"./useNavlinksStore-C3Xfy4g6.js";import{u as ve}from"./use-in-view-PyfRgUan.js";import"./Button-CWgbnBvx.js";import"./proxy-BgVQIM8n.js";import"./react-DzjR_lZ5.js";var O=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["CÃ´te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["CuraÃ§ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["RÃ©union","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["SÃ£o TomÃ© and PrÃ­ncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],xe="react-international-phone-",X=(...t)=>t.filter(e=>!!e).join(" ").trim(),we=(...t)=>X(...t).split(" ").map(e=>`${xe}${e}`).join(" "),$=({addPrefix:t,rawClassNames:e})=>X(we(...t),...e),De=({value:t,mask:e,maskSymbol:n,offset:o=0,trimNonMaskCharsLeftover:a=!1})=>{if(t.length<o)return t;let r=t.slice(0,o),u=t.slice(o),d=r,i=0;for(let s of e.split("")){if(i>=u.length){if(!a&&s!==n){d+=s;continue}break}s===n?(d+=u[i],i+=1):d+=s}return d},G=t=>t?/^\d+$/.test(t):!1,Z=t=>t.replace(/\D/g,""),Ne=(t,e)=>{let n=t.style.display;n!=="block"&&(t.style.display="block");let o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),r=a.top-o.top,u=o.bottom-a.bottom;r>=0&&u>=0||(Math.abs(r)<Math.abs(u)?t.scrollTop+=r:t.scrollTop-=u),t.style.display=n},Se=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),ke=(t,e)=>{let n=e.disableDialCodeAndPrefix?!1:e.forceDialCode,o=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,a=t,r=s=>e.trimNonDigitsEnd?s.trim():s;if(!a)return o&&!a.length||n?r(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):r(a);if(a=Z(a),a===e.dialCode&&!e.disableDialCodeAndPrefix)return r(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(a)&&!e.disableDialCodeAndPrefix)return r(n?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${a}`);if(!a.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(n)return r(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(a.length<e.dialCode.length)return r(`${e.prefix}${a}`)}let u=()=>{let s=e.dialCode.length,l=a.slice(0,s),h=a.slice(s);return{phoneLeftSide:l,phoneRightSide:h}},{phoneLeftSide:d,phoneRightSide:i}=u();return d=`${e.prefix}${d}${e.charAfterDialCode}`,i=De({value:i,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&i.length===0}),e.disableDialCodeAndPrefix&&(d=""),r(`${d}${i}`)},Ee=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:n,cursorPositionAfterInput:o,leftOffset:a=0,deletion:r})=>{if(o<a)return a;if(!t)return n.length;let u=null;for(let l=o-1;l>=0;l-=1)if(G(e[l])){u=l;break}if(u===null){for(let l=0;l<e.length;l+=1)if(G(n[l]))return l;return e.length}let d=0;for(let l=0;l<u;l+=1)G(e[l])&&(d+=1);let i=0,s=0;for(let l=0;l<n.length&&(i+=1,G(n[l])&&(s+=1),!(s>=d+1));l+=1);if(r!=="backward")for(;!G(n[i])&&i<n.length;)i+=1;return i},J=({phone:t,prefix:e})=>t?`${e}${Z(t)}`:"";function Q({value:t,country:e,insertDialCodeOnEmpty:n,trimNonDigitsEnd:o,countries:a,prefix:r,charAfterDialCode:u,forceDialCode:d,disableDialCodeAndPrefix:i,defaultMask:s,countryGuessingEnabled:l,disableFormatting:h}){let c=t;i&&(c=c.startsWith(`${r}`)?c:`${r}${e.dialCode}${c}`);let m=l?Fe({phone:c,countries:a,currentCountryIso2:e==null?void 0:e.iso2}):void 0,x=(m==null?void 0:m.country)??e,y=ke(c,{prefix:r,mask:Le({phone:c,country:x,defaultMask:s,disableFormatting:h}),maskChar:ee,dialCode:x.dialCode,trimNonDigitsEnd:o,charAfterDialCode:u,forceDialCode:d,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:i}),g=l&&!(m!=null&&m.fullDialCodeMatch)?e:x;return{phone:J({phone:i?`${g.dialCode}${y}`:y,prefix:r}),inputValue:y,country:g}}var je=t=>{if((t==null?void 0:t.toLocaleLowerCase().includes("delete"))??!1)return t!=null&&t.toLocaleLowerCase().includes("forward")?"forward":"backward"},Pe=(t,{country:e,insertDialCodeOnEmpty:n,phoneBeforeInput:o,prefix:a,charAfterDialCode:r,forceDialCode:u,disableDialCodeAndPrefix:d,countryGuessingEnabled:i,defaultMask:s,disableFormatting:l,countries:h})=>{let c=t.nativeEvent,m=c.inputType,x=je(m),y=!!(m!=null&&m.startsWith("insertFrom")),g=m==="insertText",N=(c==null?void 0:c.data)||void 0,b=t.target.value,j=t.target.selectionStart??0;if(m!=null&&m.includes("history"))return{inputValue:o,phone:J({phone:o,prefix:a}),cursorPosition:o.length,country:e};if(g&&!G(N)&&b!==a)return{inputValue:o,phone:J({phone:d?`${e.dialCode}${o}`:o,prefix:a}),cursorPosition:j-((N==null?void 0:N.length)??0),country:e};if(u&&!b.startsWith(`${a}${e.dialCode}`)&&!y){let C=b?o:`${a}${e.dialCode}${r}`;return{inputValue:C,phone:J({phone:C,prefix:a}),cursorPosition:a.length+e.dialCode.length+r.length,country:e}}let{phone:L,inputValue:I,country:f}=Q({value:b,country:e,trimNonDigitsEnd:x==="backward",insertDialCodeOnEmpty:n,countryGuessingEnabled:i,countries:h,prefix:a,charAfterDialCode:r,forceDialCode:u,disableDialCodeAndPrefix:d,disableFormatting:l,defaultMask:s}),w=Ee({cursorPositionAfterInput:j,phoneBeforeInput:o,phoneAfterInput:b,phoneAfterFormatted:I,leftOffset:u?a.length+e.dialCode.length+r.length:0,deletion:x});return{phone:L,inputValue:I,cursorPosition:w,country:f}},Ae=(t,e)=>{let n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(let a of n)if(t[a]!==e[a])return!1;return!0},$e=()=>{let t=v.useRef(),e=v.useRef(Date.now());return{check:()=>{let n=Date.now(),o=t.current?n-e.current:void 0;return t.current=e.current,e.current=n,o}}},_e={size:20,overrideLastItemDebounceMS:-1};function Ie(t,e){let{size:n,overrideLastItemDebounceMS:o,onChange:a}={..._e,...e},[r,u]=v.useState(t),[d,i]=v.useState([r]),[s,l]=v.useState(0),h=$e();return[r,(c,m)=>{if(typeof c=="object"&&typeof r=="object"&&Ae(c,r)||c===r)return;let x=o>0,y=h.check(),g=x&&y!==void 0?y>o:!0;if((m==null?void 0:m.overrideLastItem)!==void 0?m.overrideLastItem:!g)i(N=>[...N.slice(0,s),c]);else{let N=d.length>=n;i(b=>[...b.slice(N?1:0,s+1),c]),N||l(b=>b+1)}u(c),a==null||a(c)},()=>{if(s<=0)return{success:!1};let c=d[s-1];return u(c),l(m=>m-1),a==null||a(c),{success:!0,value:c}},()=>{if(s+1>=d.length)return{success:!1};let c=d[s+1];return u(c),l(m=>m+1),a==null||a(c),{success:!0,value:c}}]}var ee=".",_={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:O,preferredCountries:[]},Me=({defaultCountry:t=_.defaultCountry,value:e=_.value,countries:n=_.countries,prefix:o=_.prefix,defaultMask:a=_.defaultMask,charAfterDialCode:r=_.charAfterDialCode,historySaveDebounceMS:u=_.historySaveDebounceMS,disableCountryGuess:d=_.disableCountryGuess,disableDialCodePrefill:i=_.disableDialCodePrefill,forceDialCode:s=_.forceDialCode,disableDialCodeAndPrefix:l=_.disableDialCodeAndPrefix,disableFormatting:h=_.disableFormatting,onChange:c,inputRef:m})=>{let x={countries:n,prefix:o,charAfterDialCode:r,forceDialCode:l?!1:s,disableDialCodeAndPrefix:l,defaultMask:a,countryGuessingEnabled:!d,disableFormatting:h},y=v.useRef(null),g=m||y,N=D=>{Promise.resolve().then(()=>{var k;typeof window>"u"||g.current!==(document==null?void 0:document.activeElement)||((k=g.current)==null||k.setSelectionRange(D,D))})},[{phone:b,inputValue:j,country:L},I,f,w]=Ie(()=>{let D=q({value:t,field:"iso2",countries:n});D||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let k=D||q({value:"us",field:"iso2",countries:n}),{phone:P,inputValue:z,country:V}=Q({value:e,country:k,insertDialCodeOnEmpty:!i,...x});return N(z.length),{phone:P,inputValue:z,country:V.iso2}},{overrideLastItemDebounceMS:u,onChange:({inputValue:D,phone:k,country:P})=>{if(!c)return;let z=C(P);c({phone:k,inputValue:D,country:z})}}),C=v.useCallback(D=>q({value:D,field:"iso2",countries:n}),[n]),S=v.useMemo(()=>C(L),[L,C]);v.useEffect(()=>{let D=g.current;if(!D)return;let k=P=>{if(!P.key)return;let z=P.ctrlKey,V=P.metaKey,re=P.shiftKey;if(P.key.toLowerCase()==="z"){if(Se()){if(!V)return}else if(!z)return;re?w():f()}};return D.addEventListener("keydown",k),()=>{D.removeEventListener("keydown",k)}},[g,f,w]);let A=D=>{D.preventDefault();let{phone:k,inputValue:P,country:z,cursorPosition:V}=Pe(D,{country:S,phoneBeforeInput:j,insertDialCodeOnEmpty:!1,...x});return I({inputValue:P,phone:k,country:z.iso2}),N(V),e},M=(D,k={focusOnInput:!1})=>{let P=q({value:D,field:"iso2",countries:n});if(!P){console.error(`[react-international-phone]: can not find a country with "${D}" iso2 code`);return}let z=l?"":`${o}${P.dialCode}${r}`;I({inputValue:z,phone:`${o}${P.dialCode}`,country:P.iso2}),k.focusOnInput&&Promise.resolve().then(()=>{var V;(V=g.current)==null||V.focus()})},[T,B]=v.useState(!1);return v.useEffect(()=>{if(!T){B(!0),e!==b&&(c==null||c({inputValue:j,phone:b,country:S}));return}if(e===b)return;let{phone:D,inputValue:k,country:P}=Q({value:e,country:S,insertDialCodeOnEmpty:!i,...x});I({phone:D,inputValue:k,country:P.iso2})},[e]),{phone:b,inputValue:j,country:S,setCountry:M,handlePhoneValueChange:A,inputRef:g}},Le=({phone:t,country:e,defaultMask:n="............",disableFormatting:o=!1})=>{let a=e.format,r=d=>o?d.replace(new RegExp(`[^${ee}]`,"g"),""):d;if(!a)return r(n);if(typeof a=="string")return r(a);if(!a.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),r(n);let u=Object.keys(a).find(d=>{if(d==="default")return!1;if(!(d.charAt(0)==="/"&&d.charAt(d.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${d}" for ${e.iso2} is not valid`),!1;let i=new RegExp(d.substring(1,d.length-1)),s=t.replace(e.dialCode,"");return i.test(Z(s))});return r(u?a[u]:a.default)},F=t=>{let[e,n,o,a,r,u]=t;return{name:e,iso2:n,dialCode:o,format:a,priority:r,areaCodes:u}},ze=t=>`Field "${t}" is not supported`,q=({field:t,value:e,countries:n=O})=>{if(["priority"].includes(t))throw new Error(ze(t));let o=n.find(a=>{let r=F(a);return e===r[t]});if(o)return F(o)},Fe=({phone:t,countries:e=O,currentCountryIso2:n})=>{var d;let o={country:void 0,fullDialCodeMatch:!1};if(!t)return o;let a=Z(t);if(!a)return o;let r=o,u=({country:i,fullDialCodeMatch:s})=>{var c,m;let l=i.dialCode===((c=r.country)==null?void 0:c.dialCode),h=(i.priority??0)<(((m=r.country)==null?void 0:m.priority)??0);(!l||h)&&(r={country:i,fullDialCodeMatch:s})};for(let i of e){let s=F(i),{dialCode:l,areaCodes:h}=s;if(a.startsWith(l)){let c=r.country?Number(l)>=Number(r.country.dialCode):!0;if(h){let m=a.substring(l.length);for(let x of h)if(m.startsWith(x))return{country:s,fullDialCodeMatch:!0}}(c||l===a||!r.fullDialCodeMatch)&&u({country:s,fullDialCodeMatch:!0})}r.fullDialCodeMatch||a.length<l.length&&l.startsWith(a)&&(!r.country||Number(l)<=Number(r.country.dialCode))&&u({country:s,fullDialCodeMatch:!1})}if(n){let i=q({value:n,field:"iso2",countries:e});if(!i)return r;let s=i?(l=>{if(!(l!=null&&l.areaCodes))return!1;let h=a.substring(l.dialCode.length);return l.areaCodes.some(c=>c.startsWith(h))})(i):!1;r&&((d=r.country)==null?void 0:d.dialCode)===i.dialCode&&r.country!==i&&r.fullDialCodeMatch&&(!i.areaCodes||s)&&(r={country:i,fullDialCodeMatch:!0})}return r},Ve=(t,e)=>{let n=parseInt(t,16);return Number(n+e).toString(16)},Te="abcdefghijklmnopqrstuvwxyz",Be="1f1e6",Y=Te.split("").reduce((t,e,n)=>({...t,[e]:Ve(Be,n)}),{}),Re=t=>[Y[t[0]],Y[t[1]]].join("-"),te=({iso2:t,size:e,src:n,protocol:o="https",disableLazyLoading:a,className:r,style:u,...d})=>{if(!t)return E.createElement("img",{className:$({addPrefix:["flag-emoji"],rawClassNames:[r]}),width:e,height:e,...d});let i=()=>{if(n)return n;let s=Re(t);return`${o}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${s}.svg`};return E.createElement("img",{className:$({addPrefix:["flag-emoji"],rawClassNames:[r]}),src:i(),width:e,height:e,draggable:!1,"data-country":t,loading:a?void 0:"lazy",style:{width:e,height:e,...u},alt:"",...d})},Ge=1e3,qe=({show:t,dialCodePrefix:e="+",selectedCountry:n,countries:o=O,preferredCountries:a=[],flags:r,onSelect:u,onClose:d,...i})=>{let s=v.useRef(null),l=v.useRef(),h=v.useMemo(()=>{if(!a||!a.length)return o;let f=[],w=[...o];for(let C of a){let S=w.findIndex(A=>F(A).iso2===C);if(S!==-1){let A=w.splice(S,1)[0];f.push(A)}}return f.concat(w)},[o,a]),c=v.useRef({updatedAt:void 0,value:""}),m=f=>{let w=c.current.updatedAt&&new Date().getTime()-c.current.updatedAt.getTime()>Ge;c.current={value:w?f:`${c.current.value}${f}`,updatedAt:new Date};let C=h.findIndex(S=>F(S).name.toLowerCase().startsWith(c.current.value));C!==-1&&g(C)},x=v.useCallback(f=>h.findIndex(w=>F(w).iso2===f),[h]),[y,g]=v.useState(x(n)),N=()=>{l.current!==n&&g(x(n))},b=v.useCallback(f=>{g(x(f.iso2)),u==null||u(f)},[u,x]),j=f=>{let w=h.length-1,C=S=>f==="prev"?S-1:f==="next"?S+1:f==="last"?w:0;g(S=>{let A=C(S);return A<0?0:A>w?w:A})},L=f=>{if(f.stopPropagation(),f.key==="Enter"){f.preventDefault();let w=F(h[y]);b(w);return}if(f.key==="Escape"){d==null||d();return}if(f.key==="ArrowUp"){f.preventDefault(),j("prev");return}if(f.key==="ArrowDown"){f.preventDefault(),j("next");return}if(f.key==="PageUp"){f.preventDefault(),j("first");return}if(f.key==="PageDown"){f.preventDefault(),j("last");return}f.key===" "&&f.preventDefault(),f.key.length===1&&!f.altKey&&!f.ctrlKey&&!f.metaKey&&m(f.key.toLocaleLowerCase())},I=v.useCallback(()=>{if(!s.current||y===void 0)return;let f=F(h[y]).iso2;if(f===l.current)return;let w=s.current.querySelector(`[data-country="${f}"]`);w&&(Ne(s.current,w),l.current=f)},[y,h]);return v.useEffect(()=>{I()},[y,I]),v.useEffect(()=>{s.current&&(t?s.current.focus():N())},[t]),v.useEffect(()=>{N()},[n]),E.createElement("ul",{ref:s,role:"listbox",className:$({addPrefix:["country-selector-dropdown"],rawClassNames:[i.className]}),style:{display:t?"block":"none",...i.style},onKeyDown:L,onBlur:d,tabIndex:-1,"aria-activedescendant":`react-international-phone__${F(h[y]).iso2}-option`},h.map((f,w)=>{let C=F(f),S=C.iso2===n,A=w===y,M=a.includes(C.iso2),T=w===a.length-1,B=r==null?void 0:r.find(D=>D.iso2===C.iso2);return E.createElement(E.Fragment,{key:C.iso2},E.createElement("li",{"data-country":C.iso2,role:"option","aria-selected":S,"aria-label":`${C.name} ${e}${C.dialCode}`,id:`react-international-phone__${C.iso2}-option`,className:$({addPrefix:["country-selector-dropdown__list-item",M&&"country-selector-dropdown__list-item--preferred",S&&"country-selector-dropdown__list-item--selected",A&&"country-selector-dropdown__list-item--focused"],rawClassNames:[i.listItemClassName]}),onClick:()=>b(C),style:i.listItemStyle,title:C.name},E.createElement(te,{iso2:C.iso2,src:B==null?void 0:B.src,className:$({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[i.listItemFlagClassName]}),style:i.listItemFlagStyle}),E.createElement("span",{className:$({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[i.listItemCountryNameClassName]}),style:i.listItemCountryNameStyle},C.name),E.createElement("span",{className:$({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[i.listItemDialCodeClassName]}),style:i.listItemDialCodeStyle},e,C.dialCode)),T?E.createElement("hr",{className:$({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[i.preferredListDividerClassName]}),style:i.preferredListDividerStyle}):null)}))},Oe=({selectedCountry:t,onSelect:e,disabled:n,hideDropdown:o,countries:a=O,preferredCountries:r=[],flags:u,renderButtonWrapper:d,...i})=>{let[s,l]=v.useState(!1),h=v.useMemo(()=>{if(t)return q({value:t,field:"iso2",countries:a})},[a,t]),c=v.useRef(null),m=y=>{y.key&&["ArrowUp","ArrowDown"].includes(y.key)&&(y.preventDefault(),l(!0))},x=()=>{var N;let y={title:h==null?void 0:h.name,onClick:()=>l(b=>!b),onMouseDown:b=>b.preventDefault(),onKeyDown:m,disabled:o||n,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":s},g=E.createElement("div",{className:$({addPrefix:["country-selector-button__button-content"],rawClassNames:[i.buttonContentWrapperClassName]}),style:i.buttonContentWrapperStyle},E.createElement(te,{iso2:t,src:(N=u==null?void 0:u.find(b=>b.iso2===t))==null?void 0:N.src,className:$({addPrefix:["country-selector-button__flag-emoji",n&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[i.flagClassName]}),style:{visibility:t?"visible":"hidden",...i.flagStyle}}),!o&&E.createElement("div",{className:$({addPrefix:["country-selector-button__dropdown-arrow",n&&"country-selector-button__dropdown-arrow--disabled",s&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[i.dropdownArrowClassName]}),style:i.dropdownArrowStyle}));return d?d({children:g,rootProps:y}):E.createElement("button",{...y,type:"button",className:$({addPrefix:["country-selector-button",s&&"country-selector-button--active",n&&"country-selector-button--disabled",o&&"country-selector-button--hide-dropdown"],rawClassNames:[i.buttonClassName]}),"data-country":t,style:i.buttonStyle},g)};return E.createElement("div",{className:$({addPrefix:["country-selector"],rawClassNames:[i.className]}),style:i.style,ref:c},x(),E.createElement(qe,{show:s,countries:a,preferredCountries:r,flags:u,onSelect:y=>{l(!1),e==null||e(y)},selectedCountry:t,onClose:()=>{l(!1)},...i.dropdownStyleProps}))},He=({dialCode:t,prefix:e,disabled:n,style:o,className:a})=>E.createElement("div",{className:$({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[a]}),style:o},`${e}${t}`),Ke=v.forwardRef(({value:t,onChange:e,countries:n=O,preferredCountries:o=[],hideDropdown:a,showDisabledDialCodeAndPrefix:r,disableFocusAfterCountrySelect:u,flags:d,style:i,className:s,inputStyle:l,inputClassName:h,countrySelectorStyleProps:c,dialCodePreviewStyleProps:m,inputProps:x,placeholder:y,disabled:g,name:N,onFocus:b,onBlur:j,required:L,autoFocus:I,...f},w)=>{let{phone:C,inputValue:S,inputRef:A,country:M,setCountry:T,handlePhoneValueChange:B}=Me({value:t,countries:n,...f,onChange:k=>{e==null||e(k.phone,{country:k.country,inputValue:k.inputValue})}}),D=f.disableDialCodeAndPrefix&&r&&(M==null?void 0:M.dialCode);return v.useImperativeHandle(w,()=>A.current?Object.assign(A.current,{setCountry:T,state:{phone:C,inputValue:S,country:M}}):null,[A,T,C,S,M]),E.createElement("div",{ref:w,className:$({addPrefix:["input-container"],rawClassNames:[s]}),style:i},E.createElement(Oe,{onSelect:k=>T(k.iso2,{focusOnInput:!u}),flags:d,selectedCountry:M.iso2,countries:n,preferredCountries:o,disabled:g,hideDropdown:a,...c}),D&&E.createElement(He,{dialCode:M.dialCode,prefix:f.prefix??"+",disabled:g,...m}),E.createElement("input",{onChange:B,value:S,type:"tel",ref:A,className:$({addPrefix:["input",g&&"input--disabled"],rawClassNames:[h]}),placeholder:y,disabled:g,style:l,name:N,onFocus:b,onBlur:j,autoFocus:I,required:L,...x}))});const We=({parameters:{name:t,message:e,email:n,phone:o,labels:a}})=>p.jsxs(ce,{children:[p.jsx(fe,{}),p.jsx(me,{children:a.preview}),p.jsx(pe,{style:Ue,children:p.jsxs(he,{style:Ze,children:[p.jsx(ye,{src:"https://i.ibb.co/QbqHYfc/logo-transparent.png",width:"67",height:"64",alt:"Cesar Tours"}),p.jsxs(K,{children:[p.jsxs(ge,{style:Je,children:[t," ",a.header," ðŸ˜ŽðŸ’ª"]}),p.jsx(K,{style:Qe,children:p.jsxs(R,{style:W,children:[a.email,": ",p.jsx("b",{style:U,children:n})]})}),p.jsx(K,{children:p.jsxs(R,{style:W,children:[a.phone,": ",p.jsx("b",{style:U,children:o})]})}),p.jsx(K,{children:p.jsxs(R,{style:W,children:[a.name,": ",p.jsx("b",{style:U,children:t})]})}),p.jsxs(K,{children:[p.jsxs(R,{style:W,children:[a.message,": ",p.jsx("b",{style:U,children:e})]}),p.jsx(R,{style:ae,children:"Punta cana, bavaro"}),p.jsx(R,{style:Ye,children:"Tel (849) 258-7373"})]})]})]})})]}),Ue={backgroundColor:"#f2f2f2",padding:"10px",minHeight:"500px",maxHeight:"none"},Je={color:"#111",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",fontSize:"20px",fontWeight:"bold",marginBottom:"15px"},Ze={backgroundColor:"transparent",border:"1px solid #f0f0f0",borderRadius:"10px",padding:"50px",minHeight:"auto"},W={fontSize:"16px",fontFamily:"'Open Sans', 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif",fontWeight:"bold",color:"#222",lineHeight:"26px"},Qe={display:"flex",alignItems:"center",justifyContent:"center"},U={...W,fontWeight:"normal"},ae={color:"#6a737d",fontSize:"12px",fontWeight:"bold",textAlign:"left",marginTop:"10px"},Ye={...ae,marginTop:"-10px"};class Xe{static async sendEmail({email:e,name:n,message:o,html:a,key:r,subject:u}){try{return(await ne.post("email/send",{email:e,name:n,message:o,html:a,subject:u},{headers:{resendapikey:r}})).data}catch(d){throw console.error("Error sending email:",d),d}}}const ut=()=>{const{translate:t}=oe(),{setNavlink:e,navlink:n}=be(),o=v.useRef(null),a=ve(o,{amount:"all",margin:"50px 0px 0px 0px"}),{register:r,setValue:u,handleSubmit:d,control:i,formState:{errors:s}}=de(),l=async({email:m,name:x,message:y,html:g,key:N=ie,subject:b})=>{try{const j={email:m,name:x,message:y,html:g,key:N,subject:b};se.promise(Xe.sendEmail(j),{loading:t("sending"),success:()=>(u("name",""),u("message",""),u("email",""),u("phone","+1"),t("message_sent")),error:t("message_failed")})}catch(j){H("error",t("message_failed")),j instanceof Error&&console.error(j.message)}},h=async m=>{const{name:x,message:y,email:g,phone:N}=m,b=t("new_contact_request"),j={preview:t("new_contact_request"),header:t("user_message"),email:t("email"),phone:t("phone"),name:t("name"),message:t("message")},L=await Ce(p.jsx(We,{parameters:{name:x,message:y,email:g,phone:N,labels:j}}),{pretty:!0});await l({email:g,name:x,message:y,html:L,subject:b})},c=m=>{m.name?H("error",t("name_required")):m.email?H("error",t("email_required")):m.phone?H("error",t("phone_required")):m.message&&H("error",t("message_required"))};return v.useEffect(()=>{e(a?{...n,contact:!0}:{...n,contact:!1})},[a]),p.jsxs("div",{className:"contact-section",id:"contact",ref:o,children:[p.jsx(le,{}),p.jsx("div",{className:"container",children:p.jsxs("div",{className:"wrapper",children:[p.jsxs("div",{className:"left",children:[p.jsx("span",{children:t("contact_message")}),p.jsx("div",{className:"contact_img",children:p.jsx("img",{src:"images/tahoe.webp",alt:"Tahoe",loading:"lazy"})})]}),p.jsx("div",{className:"right",children:p.jsxs("form",{action:"",className:"contact_form",onSubmit:d(h,c),children:[p.jsxs("div",{className:"form_item",children:[p.jsx("label",{htmlFor:"name",children:t("name")}),p.jsx("input",{id:"name",type:"text",...r("name",{required:!0}),className:`name ${s.name?"invalid":""}`})]}),p.jsxs("div",{className:"form_item",children:[p.jsx("label",{htmlFor:"email",children:t("email")}),p.jsx("input",{type:"email",...r("email",{required:!0}),className:`email ${s.email?"invalid":""}`})]}),p.jsxs("div",{className:"form_item",children:[p.jsx("label",{htmlFor:"",children:t("phone")}),p.jsx(ue,{name:"phone",control:i,rules:{required:!0},render:({field:m})=>p.jsx(Ke,{...m,inputClassName:"phone-invalid",disableDialCodeAndPrefix:!0,defaultCountry:"do",className:`phoneInput ${s.phone?"phone-invalid":""}`})})]}),p.jsxs("div",{className:"form_item",children:[p.jsx("label",{htmlFor:"",children:t("message")}),p.jsx("textarea",{id:"",cols:10,rows:5,...r("message",{required:!0}),className:s.message?"invalid":""})]}),p.jsx("button",{className:"message-button","aria-label":"send message",children:t("send_message")})]})})]})})]})};export{ut as default};
